<!DOCTYPE html><html lang="en">
<head>
<meta charset="UTF-8">
<title>Study Discussion Club</title>
<meta name="viewport" content="width=device-width, initial-scale=1"><script src="https://unpkg.com/react@18/umd/react.development.js"></script><script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script><script src="https://unpkg.com/@babel/standalone/babel.min.js"></script><script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-app-compat.js"></script><script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-auth-compat.js"></script><script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore-compat.js"></script><style>
body {margin:0; font-family:'Segoe UI',Arial,sans-serif;}
.container {display:flex; flex-direction:column; align-items:center; justify-content:center; padding:20px; min-height:100vh; text-align:center;}
input, button {padding:10px; border-radius:8px; margin-bottom:10px; width:100%; border:1px solid #ccc;}
button {background:#007aff; color:white; font-weight:bold; border:none; cursor:pointer;}
.exam-box,.menu-btn,.feature-box,.notice-box,.image-frame {padding:15px; border-radius:10px; margin:8px; width:90%; max-width:400px; border:1px solid #ccc; background:#fff; cursor:pointer;}
.feature-box{text-align:left; box-shadow:0 2px 6px rgba(0,0,0,0.1); margin-bottom:10px;}
.notice-box{background:#fff7e6; border:1px solid #ffb347;}
.image-frame img{width:100%; border-radius:10px;}
.back-btn{color:#007aff; cursor:pointer; font-weight:bold; align-self:flex-start; margin-bottom:10px;}
</style></head>
<body>
<div id="root"></div><script type="text/babel">
const {useState,useEffect} = React;

// Firebase Init
const firebaseConfig={apiKey:"AIzaSyDwbIHTMWM_AQ-NlsdXGDzAfoC8Tf8lZiY",authDomain:"study-discussion-club.firebaseapp.com",projectId:"study-discussion-club",storageBucket:"study-discussion-club.appspot.com",messagingSenderId:"383378613377",appId:"1:383378613377:web:3b932c6b42076352811980"};
firebase.initializeApp(firebaseConfig);
const auth=firebase.auth();
const db=firebase.firestore();

function App(){
  const [screen,setScreen]=useState('welcome');
  const [signupData,setSignupData]=useState({username:'',email:'',password:'',mobile:'',pin:''});
  const [loginData,setLoginData]=useState({email:'',password:''});
  const [selectedExam,setSelectedExam]=useState(null);
  const [paymentStatus,setPaymentStatus]=useState('pending');
  const [manualNotice,setManualNotice]=useState(false);
  const [codeInput,setCodeInput]=useState('');
  const [manualForm,setManualForm]=useState({name:'',mobile:'',upi:''});

  const contentImages={
    'Current Affairs':['https://i.imgur.com/UhPzHM1.jpeg'],
    'Practice Questions':['https://i.imgur.com/UhPzHM1.jpeg'],
    'Mind Maps':['https://i.imgur.com/UhPzHM1.jpeg'],
    'UPSC Books Summary':['https://i.imgur.com/UhPzHM1.jpeg'],
    'Interview Practice Questions':['https://i.imgur.com/UhPzHM1.jpeg']
  };
  const bgColors={'Current Affairs':'#E6E6FA','Practice Questions':'#B0E0E6','Mind Maps':'#A9A9A9','UPSC Books Summary':'#F0E68C','Interview Practice Questions':'#ADD8E6'};

  useEffect(()=>{if(screen==='payment'&&paymentStatus==='pending'){const timer=setTimeout(()=>setManualNotice(true),120000); return ()=>clearTimeout(timer);}},[screen,paymentStatus]);

  const handleSignup=async()=>{
    const {username,email,password,mobile,pin}=signupData;
    if(!email||!password){alert('Fill all details'); return;}
    try{
      const userCred=await auth.createUserWithEmailAndPassword(email,password);
      await db.collection('users').doc(userCred.user.uid).set({username,email,mobile,pin,createdAt:new Date().toISOString()});
      alert('Signup successful');
      setScreen('examlist');
    }catch(err){alert('Signup failed '+err.message);}
  };

  const handleLogin=async()=>{
    try{
      await auth.signInWithEmailAndPassword(loginData.email,loginData.password);
      alert('Login successful');
      setScreen('examlist');
    }catch(err){alert('Login failed '+err.message);}
  };

  const handleCodeSubmit=()=>{if(codeInput==='BIGHIT'){alert('Subscription activated'); setPaymentStatus('success'); setScreen('home');} else {alert('Invalid code');}}

  const handleManualSubmit=async()=>{
    try{
      await fetch('https://sheetdb.io/api/v1/gt8vb3ysgkonl',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(manualForm)});
      alert('Details submitted. Our team will verify within 12 hours.');
      setManualForm({name:'',mobile:'',upi:''});
    }catch(err){alert('Error submitting details');}
  };

  // Screens
  if(screen==='welcome') return <div className='container' style={{backgroundColor:'#90EE90'}}><h2>Welcome to Study Discussion Club</h2><p>Developed by Sajan</p><button onClick={()=>setScreen('signup')}>Next</button></div>;
  if(screen==='signup'){
    const filled=Object.values(signupData).every(v=>v.trim()!=='');
    return <div className='container' style={{backgroundColor:'#89CFF0'}}>
      <h2>Signup</h2>
      {Object.keys(signupData).map(k=><input key={k} placeholder={k.toUpperCase()} type={k==='password'||k==='pin'?'password':'text'} value={signupData[k]} onChange={e=>setSignupData({...signupData,[k]:e.target.value})}/>)}
      <button style={{backgroundColor:filled?'#007AFF':'gray',cursor:filled?'pointer':'not-allowed'}} onClick={handleSignup}>Signup</button>
      <p style={{color:'#007AFF',cursor:'pointer'}} onClick={()=>setScreen('login')}>Already have account?</p>
    </div>;
  }
  if(screen==='login') return <div className='container' style={{backgroundColor:'#D3D3D3'}}>
    <h2>Login</h2>
    <input placeholder='Email' value={loginData.email} onChange={e=>setLoginData({...loginData,email:e.target.value})}/>
    <input type='password' placeholder='Password' value={loginData.password} onChange={e=>setLoginData({...loginData,password:e.target.value})}/>
    <button onClick={handleLogin}>Login</button>
  </div>;

  if(screen==='examlist'){
    const exams=['UPSC','NEET','JEE','NDA','JUDICIARY'];
    return <div className='container' style={{backgroundColor:'#FF7F7F'}}>
      <h2>Select Exam</h2>
      {exams.map(ex=><div key={ex} className='exam-box' onClick={()=>setSelectedExam(ex)} style={{backgroundColor:selectedExam===ex?'#FF4500':'#fff'}}>{ex}</div>)}
      <button disabled={!selectedExam} style={{backgroundColor:selectedExam?'#007AFF':'gray',cursor:selectedExam?'pointer':'not-allowed'}} onClick={()=>setScreen('payment')}>Next</button>
    </div>;
  }

  if(screen==='payment'){
    const features=['Daily Current Affairs','Daily Practice Questions','Mind Maps and UPSC Books Summary','Discussion and Contest Entry Fee'];
    return <div className='container' style={{backgroundColor:'#FFF8DC'}}>
      <h2>Subscription</h2>
      <h3>{selectedExam}</h3>
      <div className='feature-box'>{features.map((f,i)=><p key={i}>• {f}</p>)}</div>
      <button onClick={()=>{setPaymentStatus('success'); setScreen('home');}}>Pay Now (UPI Simulation)</button>
      <div className='feature-box'>Enter Code to Unlock Subscription<input placeholder='Enter Code' value={codeInput} onChange={e=>setCodeInput(e.target.value)}/><button onClick={handleCodeSubmit}>Submit Code</button></div>
      {manualNotice && <div className='container'><h4>Manual Verification</h4><input placeholder='Name' value={manualForm.name} onChange={e=>setManualForm({...manualForm,name:e.target.value})}/><input placeholder='Mobile' value={manualForm.mobile} onChange={e=>setManualForm({...manualForm,mobile:e.target.value})}/><input placeholder='UPI ID' value={manualForm.upi} onChange={e=>setManualForm({...manualForm,upi:e.target.value})}/><button onClick={handleManualSubmit}>Submit</button><div className='notice-box'>Dear Sir, our team will manually verify your payment and activate your plan. Verification may take up to 12 hours. You will be contacted once activated.</div></div>}
    </div>;
  }

  if(screen==='home'){
    const menu=['Current Affairs','Practice Questions','Entry Fee / Contest','Mind Maps','UPSC Books Summary','Interview Practice Questions','Hidden Topics','Discussion','Live Classes','Donation Bank','SDC News'];
    const colors=['#FFFACD','#B0E0E6','#FFDAB9','#E6E6FA','#ADD8E6','#F0E68C','#D8BFD8','#F5DEB3','#FFA500','#A0522D','#FFE4B5'];
    return <div className='container' style={{backgroundColor:'#FFFFE0'}}>
      <h2>Study Discussion Club</h2>
      {menu.map((item,i)=><div key={item} className='menu-btn' style={{backgroundColor:colors[i%colors.length]}} onClick={()=>setScreen(item)}>{item}</div>)}
    </div>;
  }

  if(screen in contentImages){
    const imgs=[...contentImages[screen]].reverse();
    return <div className='container' style={{backgroundColor:bgColors[screen]||'#fff'}}>
      <div className='back-btn' onClick={()=>setScreen('home')}>← Back</div>
      <h2>{screen}</h2>
      {imgs.length>0 ? imgs.map((img,idx)=><div className='image-frame' key={idx}><img src={img} alt={screen}/></div>) : <p>No content uploaded yet.</p>}
    </div>;
  }

  return <div className='container'><p>Loading...</p></div>;
}

ReactDOM.createRoot(document.getElementById('root')).render(<App/>);
</script></body>
</html>
